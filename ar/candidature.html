<!doctype html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Ooredoo Algeria">

    <title>pékin Express</title>

    <!-- Bootstrap core CSS -->
    <link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this page -->
    <link href="../assets/dist/css/main.css" rel="stylesheet">


    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="../assets/dist/js/form-stepper.js"></script>

    <link href="../assets/dist/css/custom.css" rel="stylesheet">
    <link href="../assets/dist/css/form-stepper.css" rel="stylesheet">

    <link href="../assets/dist/css/rtl.css" rel="stylesheet">
</head>

<body class="ar">
<div class="container-md p-0">

    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container-fluid">
            <a href="index.html" class="navbar-brand ">
                <img src="../assets/brand/logo-ooredoo-navbar.svg" alt="" height="45">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
                    aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-md-end" id="navbarNavAltMarkup">
                <ul class="navbar-nav">
                    <li class="nav-item"><a href="index.html" class=" nav-link " aria-current="page">الصفحة
                        الرئيسية</a></li>
                    <li class="nav-item"><a href="candidature.html" class="nav-link active">المشاركة</a></li>
                    <li class="nav-item change-lang"><a href="../index.html" class="nav-link">Français</a></li>
                </ul>
            </div>
        </div>
    </nav>

</div>
<main>

    <!-- Hero  -->
    <div class="hero-section as-candidature">
        <div class="header-bg">
            <img src="../assets/brand/5.png" alt="">
        </div>
        <div class="bg-logo">
            <img class="img-contain" src="../assets/brand/LOGO_PEKINEXPRESS_DZ.png" alt="">
            <h1 class="text-uppercase text-white text-center" style="font-size: 5vw"><b>المشاركة</b></h1>
        </div>
    </div>

    <div class="form-section">
        <h1 class="text-uppercase fw-bold text-center mt-4 mb-3 text-uppercase" id="title-step">المشاركة</h1>
        <div class="form-stepper" id="my-form-stepper">
            <script defer>
                document.addEventListener('DOMContentLoaded', function () {
                    const formConfig = {
                        firstName: {validation: (value, form) => value.length > 3},
                        lastName: {validation: (value, form) => value.length > 3},
                        address: {validation: (value, form) => value.length > 4},
                        birthday: {validation: (value, form) => /^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[13-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{4})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[048]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{4})$/.test(value)},
                        email: {validation: (value, form) => /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(value)},
                        phone: {validation: (value, form) => /^(0)(5|6|7)[0-9]{8}$/.test(value)},
                        familySituation:{validation: (value, form) =>  Number(value) <= 2 && Number(value) >= 1},
                        sexe: {validation: (value, form) =>  Number(value) <= 2 && Number(value) >= 1},
                        wilaya: {validation: (value, form) => Number(value) <= 58 && Number(value) >= 1},
                        photo: {validation: (value, form) => Boolean(value)},
                    };
                    const bindStepData = (step, form) => {
                        const previewInputs = document.getElementById(`candidat-${step}-preview`);
                        const elementsWithAttribute = previewInputs.querySelectorAll('[data-replace]');
                        const previewImage = previewInputs.querySelector('img');
                        const selectors={
                            wilaya:document.querySelector('.form-select[name="wilaya"]'),
                            familySituation: document.querySelector('.form-select[name="familySituation"]'),
                            sexe:document.querySelector('.form-select[name="sexe"]'),
                        };

                        if (form[step].photo) {
                            const reader = new FileReader();
                            reader.onload = function (e) {
                                previewImage.src = e.target.result;
                            };
                            reader.readAsDataURL(form[step].photo);
                        } else {
                            previewImage.src = '';
                        }

                        elementsWithAttribute.forEach(element => {
                            const key = element.getAttribute('data-replace');
                            element.innerHTML = ["wilaya","sexe","familySituation" ].includes(key) ? selectors[key].options[Number(form[step][key])].innerText : form[step][key];
                        });
                    };
                    const myForm = new FormStepper("my-form-stepper", {
                        global: {
                            // hideNextOnLastStep:true,
                            hidePrevOnLastStep: true,
                            defaultNextText: 'التالي',
                            defaultPrevText: 'السابق',
                            onStepChange:(step)=>{
                                const titles={
                                    1:"معلومات خاصة بالمترشح 1 ",
                                    2:"معلومات خاصة بالمترشح 2 ",
                                    3:"الملخص",
                                    4:"إنهاء",
                                };
                               const title= document.getElementById("title-step");
                                title.innerText=titles[step];
                            }
                        },

                        1: {
                            onSubmit: (form) => {

                            },
                            form: formConfig
                        },
                        2: {
                            onSubmit: (form) => {
                                bindStepData(1, form);
                                bindStepData(2, form);
                                document.getElementById("title-step").innerText="Récapitulatif"
                            },
                            form: formConfig
                        },
                        3: {
                            nextText: 'تأكيد',
                            onSubmit: (data) => {
                                document.getElementById("title-step").innerText="Finalisation"
                            },
                            form: {
                                "accept-condition": {validation: (value, form) => Boolean(value)},
                                "accept-politique": {validation: (value, form) => Boolean(value)},
                            }
                        },
                        4: {
                            nextText: 'إنهاء',
                            onSubmit: (data) => {
                                console.log(data)
                                window.location.href = './index.html';
                                // var fileInput = document.getElementById('fileInput');
                                // var file = fileInput.files[0];
                                //
                                // var formData = new FormData();
                                // formData.append('file', file);
                                //
                                // fetch('/upload', {
                                //     method: 'POST',
                                //     body: formData
                                // })
                                //     .then(response => response.json()) // Assuming the backend returns JSON response
                                //     .then(data => {
                                //         console.log(data); // Handle the JSON response from the backend
                                //     })
                                //     .catch(error => {
                                //         console.error('Error:', error);
                                //     });
                            }
                        }
                    })
                });
            </script>
            <div class="form-stepper-header">
                <div class="form-stepper-count passed">
                    <span class="stepper-number">1</span>
                    <span class="stepper-text"> معلومات خاصة بالمترشح 1  </span>
                </div>
                <div class="form-stepper-count">
                    <span class="stepper-number">2</span>
                    <span class="stepper-text">معلومات خاصة بالمترشح 2 </span>
                </div>
                <div class="form-stepper-count">
                    <span class="stepper-number">3</span>
                    <span class="stepper-text">الملخص</span>
                </div>
                <div class="form-stepper-count">
                    <span class="stepper-number">4</span>
                    <span class="stepper-text">إنهاء</span>
                </div>
            </div>
            <div class="form-stepper-content">

                <div class="form-stepper-content-step">
                    <div class="row">
                        <div class="col-sm-6">
                            <label class="form-label">الاسم</label>
                            <input type="text" class="form-control" name="firstName" placeholder="مثال" value="" required>
                            <div class="invalid-text">
                                يرجى ادخال الاسم.
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label class="form-label">اللقب</label>
                            <input type="text" class="form-control" name="lastName" placeholder="مثال" value="" required>
                            <div class="invalid-text">
                                يرجى ادخال اللقب.
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4">
                            <label class="form-label">تاريخ الميلاد</label>
                            <input type="date" class="form-control" name="birthday" placeholder="jj/mm/aaaa" value=""
                                   required>
                            <div class="invalid-text">
                                يرجى ادخال تاريخ الميلاد.
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <label class="form-label">الحالة العائلية</label>
                            <select class="form-select" name="familySituation" required>
                                <option value="">اختيار...</option>
                                <option value="1">متزوج</option>
                                <option value="2">اعزب</option>
                            </select>
                            <div class="invalid-text">
                                يرجى اختيار الحالة العائلية.
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <label class="form-label">الجنس</label>
                            <select class="form-select" name="sexe" required>
                                <option value="">اختيار...</option>
                                <option value="1">ذكر</option>
                                <option value="2">انثى</option>
                            </select>
                            <div class="invalid-text">
                                يرجى اختيار الجنس.
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6">
                            <label class="form-label">البريد الإلكتروني</label>
                            <input type="email" class="form-control" name="email" placeholder="exemple@mail.com" value="" required>
                            <div class="invalid-text">
                                يرجى ادخال البريد الإلكتروني.
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label class="form-label">الهاتف</label>
                            <input type="tel" class="form-control" name="phone" placeholder="مثال :  55 55 55 0555 " value="" required>
                            <div class="invalid-text">
                                يرجى ادخال الهاتف.
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-8">
                            <label class="form-label">العنوان</label>
                            <input type="email" class="form-control" name="address" placeholder="XX rue exemple, Alger, Algérie" value="" required>
                            <div class="invalid-text">
                                يرجى ادخال العنوان.
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <label class="form-label">الولاية</label>
                            <select class="form-select" name="wilaya" required>
                                <option value="">اختيار...</option>
                                <option value="1">أدرار</option>
                                <option value="2">الشلف</option>
                                <option value="3">الأغواط</option>
                                <option value="4">أم البواقي</option>
                                <option value="5">باتنة</option>
                                <option value="6">بجاية</option>
                                <option value="7">بسكرة</option>
                                <option value="8">بشار</option>
                                <option value="9">البليدة</option>
                                <option value="10">البويرة</option>
                                <option value="11">تمنراست</option>
                                <option value="12">تبسة</option>
                                <option value="13">تلمسان</option>
                                <option value="14">تيارت</option>
                                <option value="15">تيزي وزو</option>
                                <option value="16">الجزائر</option>
                                <option value="17">الجلفة</option>
                                <option value="18">جيجل</option>
                                <option value="19">سطيف</option>
                                <option value="20">سعيدة</option>
                                <option value="21">سكيكدة</option>
                                <option value="22">سيدي بلعباس</option>
                                <option value="23">عنابة</option>
                                <option value="24">قالمة</option>
                                <option value="25">قسنطينة</option>
                                <option value="26">المدية</option>
                                <option value="27">مستغانم</option>
                                <option value="28">المسيلة</option>
                                <option value="29">معسكر</option>
                                <option value="30">ورقلة</option>
                                <option value="31">وهران</option>
                                <option value="32">البيض</option>
                                <option value="33">اليزي</option>
                                <option value="34">برج بوعريريج</option>
                                <option value="35">بومرداس</option>
                                <option value="36">الطارف</option>
                                <option value="37">تندوف</option>
                                <option value="38">تسمسيلت</option>
                                <option value="39">الوادي</option>
                                <option value="40">خنشلة</option>
                                <option value="41">سوق أهراس</option>
                                <option value="42">تيبازة</option>
                                <option value="43">ميلة</option>
                                <option value="44">عين الدفلىa</option>
                                <option value="45">النعامة</option>
                                <option value="46">عين تموشنت</option>
                                <option value="47">غرداية</option>
                                <option value="48">غليزان</option>
                                <option value="49">المغير</option>
                                <option value="50">المنيعة</option>
                                <option value="51">أولاد جلال</option>
                                <option value="52">برج باجي مختار</option>
                                <option value="53">بني عباس</option>
                                <option value="54">تيميمون</option>
                                <option value="55">تقرت</option>
                                <option value="56">جانت</option>
                                <option value="57">عين صالح	</option>
                                <option value="58">عين قزّام	</option>
                            </select>
                            <div class="invalid-text">
                                يرجى اختيار الولاية
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6">
                            <label class="form-label">صورة شخصية</label>
                            <input type="file" accept="image/*" class="form-control" name="photo" placeholder="insérer"
                                   value="" required>
                            <div class="invalid-text">
                                يرجى ادخال الصورة شخصية.
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-stepper-content-step">
                    <div class="row">
                        <div class="col-sm-6">
                            <label class="form-label">الاسم</label>
                            <input type="text" class="form-control" name="firstName" placeholder="مثال" value="" required>
                            <div class="invalid-text">
                                يرجى ادخال الاسم.
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label class="form-label">اللقب</label>
                            <input type="text" class="form-control" name="lastName" placeholder="مثال" value="" required>
                            <div class="invalid-text">
                                يرجى ادخال اللقب.
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4">
                            <label class="form-label">تاريخ الميلاد</label>
                            <input type="date" class="form-control" name="birthday" placeholder="jj/mm/aaaa" value=""
                                   required>
                            <div class="invalid-text">
                                يرجى ادخال تاريخ الميلاد.
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <label class="form-label">الحالة العائلية</label>
                            <select class="form-select" name="familySituation" required>
                                <option value="">اختيار...</option>
                                <option value="1">متزوج</option>
                                <option value="2">اعزب</option>
                            </select>
                            <div class="invalid-text">
                                يرجى اختيار الحالة العائلية.
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <label class="form-label">الجنس</label>
                            <select class="form-select" name="sexe" required>
                                <option value="">اختيار...</option>
                                <option value="1">ذكر</option>
                                <option value="2">انثى</option>
                            </select>
                            <div class="invalid-text">
                                يرجى اختيار الجنس.
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6">
                            <label class="form-label">البريد الإلكتروني</label>
                            <input type="email" class="form-control" name="email" placeholder="exemple@mail.com" value="" required>
                            <div class="invalid-text">
                                يرجى ادخال البريد الإلكتروني.
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label class="form-label">الهاتف</label>
                            <input type="tel" class="form-control" name="phone" placeholder="مثال :  55 55 55 0555 " value="" required>
                            <div class="invalid-text">
                                يرجى ادخال الهاتف.
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-8">
                            <label class="form-label">العنوان</label>
                            <input type="email" class="form-control" name="address" placeholder="XX rue exemple, Alger, Algérie" value="" required>
                            <div class="invalid-text">
                                يرجى ادخال العنوان.
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <label class="form-label">الولاية</label>
                            <select class="form-select" name="wilaya" required>
                                <option value="">اختيار...</option>
                                <option value="1">أدرار</option>
                                <option value="2">الشلف</option>
                                <option value="3">الأغواط</option>
                                <option value="4">أم البواقي</option>
                                <option value="5">باتنة</option>
                                <option value="6">بجاية</option>
                                <option value="7">بسكرة</option>
                                <option value="8">بشار</option>
                                <option value="9">البليدة</option>
                                <option value="10">البويرة</option>
                                <option value="11">تمنراست</option>
                                <option value="12">تبسة</option>
                                <option value="13">تلمسان</option>
                                <option value="14">تيارت</option>
                                <option value="15">تيزي وزو</option>
                                <option value="16">الجزائر</option>
                                <option value="17">الجلفة</option>
                                <option value="18">جيجل</option>
                                <option value="19">سطيف</option>
                                <option value="20">سعيدة</option>
                                <option value="21">سكيكدة</option>
                                <option value="22">سيدي بلعباس</option>
                                <option value="23">عنابة</option>
                                <option value="24">قالمة</option>
                                <option value="25">قسنطينة</option>
                                <option value="26">المدية</option>
                                <option value="27">مستغانم</option>
                                <option value="28">المسيلة</option>
                                <option value="29">معسكر</option>
                                <option value="30">ورقلة</option>
                                <option value="31">وهران</option>
                                <option value="32">البيض</option>
                                <option value="33">اليزي</option>
                                <option value="34">برج بوعريريج</option>
                                <option value="35">بومرداس</option>
                                <option value="36">الطارف</option>
                                <option value="37">تندوف</option>
                                <option value="38">تسمسيلت</option>
                                <option value="39">الوادي</option>
                                <option value="40">خنشلة</option>
                                <option value="41">سوق أهراس</option>
                                <option value="42">تيبازة</option>
                                <option value="43">ميلة</option>
                                <option value="44">عين الدفلىa</option>
                                <option value="45">النعامة</option>
                                <option value="46">عين تموشنت</option>
                                <option value="47">غرداية</option>
                                <option value="48">غليزان</option>
                                <option value="49">المغير</option>
                                <option value="50">المنيعة</option>
                                <option value="51">أولاد جلال</option>
                                <option value="52">برج باجي مختار</option>
                                <option value="53">بني عباس</option>
                                <option value="54">تيميمون</option>
                                <option value="55">تقرت</option>
                                <option value="56">جانت</option>
                                <option value="57">عين صالح	</option>
                                <option value="58">عين قزّام	</option>
                            </select>
                            <div class="invalid-text">
                                يرجى اختيار الولاية
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6">
                            <label class="form-label">صورة شخصية</label>
                            <input type="file" accept="image/*" class="form-control" name="photo" placeholder="insérer"
                                   value="" required>
                            <div class="invalid-text">
                                يرجى ادخال الصورة شخصية.
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-stepper-content-step">
                    <div class="row">
                        <div class="col-sm-6 candidat-img" id="candidat-1-preview">
                            <h2 class="text-center mb-3">المترشح 1</h2>
                            <h5>
                                <span data-replace="lastName"></span> <span data-replace="firstName"></span>
                            </h5>
                            <img src="" alt="candidat" class="mb-3">
                            <div data-replace="birthday"></div>
                            <div data-replace="familySituation"></div>
                            <div data-replace="sexe"></div>
                            <div data-replace="email"></div>
                            <div data-replace="phone"></div>
                            <div><span data-replace="address"></span> - <span data-replace="wilaya"></span></div>
                        </div>
                        <div class="col-sm-6 candidat-img" id="candidat-2-preview">
                            <h2 class="text-center mb-3">المترشح 2</h2>
                            <h5>
                                <span data-replace="lastName"></span> <span data-replace="firstName"></span>
                            </h5>
                            <img src="" alt="candidat" class="mb-3">
                            <div data-replace="birthday"></div>
                            <div data-replace="familySituation"></div>
                            <div data-replace="sexe"></div>
                            <div data-replace="email"></div>
                            <div data-replace="phone"></div>
                            <div><span data-replace="address"></span> - <span data-replace="wilaya"></span></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12 mt-2">
                            <div class="form-check">
                                <label class="form-check-label" for="accept-condition">أوافق على <a
                                        href="../assets/docs/Termes_et_Conditions_fr.pdf" target="_blank">الشروط والأحكام العامة</a></label>
                                <input id="accept-condition" name="accept-condition" type="checkbox"
                                       class="form-check-input" required>
                                <div class="invalid-text">
                                    يرجى القبول ووضع علامة في المربع للمتابعة
                                </div>
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="accept-politique">أوافق على <a
                                        href="../assets/docs/Politique_de_Confidentialité_fr.pdf" target="_blank">سياسة الخصوصية</a></label>
                                <input id="accept-politique" name="accept-politique" type="checkbox"
                                       class="form-check-input" required>
                                <div class="invalid-text">
                                    يرجى القبول ووضع علامة في المربع للمتابعة
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-stepper-content-step">
                    <div class="d-center flex-column my-4">
                        <h1 class="text-center">هنيئًا !</h1>
                        <p class="text-center text-uppercase fs-3">تم قبول طلبك، سنتصل بك قريبًا</p>
                    </div>

                </div>
            </div>
            <div class="form-stepper-footer">
                <button class="btn btn-secondary btn-round text-uppercase" data-role="prev">السابق</button>
                <button class="btn btn-primary btn-round text-uppercase" data-role="next">التالي</button>
            </div>
        </div>

    </div>
</main>


<div class="container">
    <footer class="my-5 pt-5 text-muted text-center text-small">
        <p class="mb-1">&copy; 2023 Ooredoo Algérie / Pékin Express</p>
        <ul class="list-inline">
            <li class="list-inline-item"><a href="index.html">الصفحة الرئيسية</a></li>
            <li class="list-inline-item"><a href="candidature.html">المشاركة</a></li>
            <li class="list-inline-item"><a href="../assets/docs/Termes_et_Conditions_ar.pdf" target="_blank">الشروط والأحكام</a></li>
            <li class="list-inline-item"><a href="../assets/docs/Politique_de_Confidentialité_ar.pdf" target="_blank">سياسة الخصوصية</a></li>
        </ul>
    </footer>
</div>


<script src="../assets/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>
